package com.email.writer.service;

import org.springframework.stereotype.Service;
import java.util.Map;

import com.email.writer.EmailRequest;

@Service
public class EmailGeneratorService {

	public String generateEmailReply(EmailRequest emailrequest)
	{
		String prompt = buildPrompt(emailrequest);
		
		//Formatting the request
		
		Map<String,Object> requestBody = Map.of(
				"contents", new Object[]{
				Map.of("parts",new Object[] {
				Map.of("text",prompt)
				})
				}
		);
		
		//Make Request and Receive Response
		
		
		return "";
	}

	private String buildPrompt(EmailRequest emailrequest) {
		
		StringBuilder prompt = new StringBuilder();
		prompt.append("Please Generate a Professional email Reply for the following Email-Content.Please Don't include a subject in this reply");
		if(emailrequest.getTone() != null && !emailrequest.getTone().isEmpty())
		{
			prompt.append("Use a ").append(emailrequest.getTone()).append(" tone.");
		}
		prompt.append("\n Original Email:\n").append(emailrequest.getEmailContent());
		return prompt.toString();
	}
}
